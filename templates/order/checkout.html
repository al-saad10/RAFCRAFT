{% extends 'master.html' %}

{% block body %}

<div class="container grid grid-cols-12 items-start pb-16 pt-4 gap-6">
    <div class="col-span-8 md:col-span-12 border border-gray-200 p-4 rounded">
        <div class="md:hidden">
            <div class="bg-white rounded-lg shadow-md p-4 mb-4">
                <h3 class="text-lg font-semibold mb-4">Order Summary</h3>
                <div class="flex justify-between mb-2">
                    <span class="font-semibold">Total:</span>
                    <span id="amount">{{ amount }} Tk</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="font-semibold">Shipping:</span>
                    <span>{{ shippingamount }} Tk</span>
                </div>
                <div class="flex justify-between border-t border-gray-200 pt-2">
                    <span class="font-semibold">Grand Total:</span>
                    <span id="totalamount">{{ totalamount }} Tk</span>
                </div>
            </div>
        </div>
        <h3 class="text-lg font-medium capitalize mb-4">Checkout</h3>
        <form id="checkout-form" method="post" action="">
            {% csrf_token %}
            <div class="space-y-4 w-full">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label for="id_first_name" class="text-gray-600">First Name <span class="text-primary">*</span></label>
                        <input type="text" name="first_name" id="id_first_name" class="input-box w-full" value="{% if profile %}{{ profile.first_name }}{% endif %}" required>
                    </div>
                    <div>
                        <label for="id_last_name" class="text-gray-600">Last Name <span class="text-primary">*</span></label>
                        <input type="text" name="last_name" id="id_last_name" class="input-box w-full"value="{% if profile %}{{ profile.last_name }}{% endif %}" required>
                    </div>
                </div>
                <div>
                    <label for="id_company" class="text-gray-600">Company</label>
                    <input type="text" name="company" id="id_company" class="input-box w-full" >
                </div>
                <div>
                    <label for="id_country" class="text-gray-600">Country/Region</label>
                    <input type="text" name="country" id="id_country" class="input-box w-full" value="{% if profile %}{{ profile.country }}{% endif %}"  required>
                </div>
                <div>
                    <label for="id_address" class="text-gray-600">Address</label>
                    <input type="text" name="address" id="id_address" class="input-box w-full" value="{% if profile %}{{ profile.street }}{% endif %}" required>
                </div>
                <div>
                    <label for="id_city" class="text-gray-600">City</label>
                    <input type="text" name="city" id="id_city" class="input-box w-full" value="{% if profile %}{{ profile.city }}{% endif %}" required>
                </div>
                <div>
                    <label for="id_phone" class="text-gray-600">Phone number</label>
                    <input type="tel" name="phone" id="id_phone" class="input-box w-full" value="{% if profile %}{{ profile.phone }}{% endif %}" required>
                </div>
                <div>
                    <label for="id_email" class="text-gray-600">Email address</label>
                    <input type="email" name="email" id="id_email" class="input-box w-full" value="{% if profile %}{{ profile.email }}{% endif %}" required>
                </div>
                <div>
                    <label for="id_note" class="text-gray-600">Order note</label>
                    <textarea name="order_note" id="id_note" class="input-box w-full"></textarea>
                </div>
                <input type="hidden" name="id" value="{{ product.id }}">
                <button
                    class="mt-4 w-full bg-primary border border-primary text-white rounded-md py-2 hover:bg-transparent hover:text-primary transition">Place Order</button>
            </div>
        </form>
    </div>
    <div class="col-span-4 md:col-span-12 border border-gray-200 p-4 rounded hidden md:block">
        <div class="col-span-1">
            <div class="bg-white rounded-lg shadow-md p-4 w-full">
                <h3 class="text-lg font-semibold mb-4">Order Summary</h3>
                <div class="flex justify-between mb-2">
                    <span class="font-semibold">Total:</span>
                    <span id="amount">{{ amount }} Tk</span>
                </div>
                <div class="flex justify-between mb-2">
                    <span class="font-semibold">Shipping:</span>
                    <span>{{ shippingamount }} Tk</span>
                </div>
                <div class="flex justify-between border-t border-gray-200 pt-2">
                    <span class="font-semibold">Grand Total:</span>
                    <span id="totalamount">{{ totalamount }} Tk</span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ./wrapper -->
{% endblock %}